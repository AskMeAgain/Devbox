{
    "builders": [
        {
            "vm_name": "{{user `vmname`}}-temp1",
            "type": "virtualbox-iso",
            "output_directory": "./packer_cache/outputs/os/",
            "iso_checksum": "{{user `arch-image-hash`}}",
            "iso_url": "{{user `arch-image`}}",
            "guest_os_type": "ArchLinux_64",
            "boot_wait": "5s",
            "shutdown_timeout": "10m",
            "disable_shutdown": true,
            "boot_command": [
                "<enter><wait60>archinstall --config https://raw.githubusercontent.com/AskMeAgain/Devbox/arch-installation/provisioning-os/arch/user_configuration.json ",
                "--creds https://raw.githubusercontent.com/AskMeAgain/Devbox/arch-installation/provisioning-os/arch/user_credentials.json ",
                "&& systemctl enable sshd.service && shutdown now<enter><wait5>",
                "<down><down><down><down><down><enter><wait30><enter><enter><down><enter><enter><enter><enter><wait1>",
                "<up><up><up><up><up><up><up><up><up><enter><enter><wait300>"
            ],
            "disk_size": "{{user `disksize`}}",
            "hard_drive_interface": "sata",
            "guest_additions_mode": "disable",
            "communicator": "none",
            "virtualbox_version_file": "",
            "headless": "false",
            "bundle_iso": true,
            "cpus": "{{user `cpu-count`}}",
            "memory": "{{user `memory`}}",
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--vram",
                    "128"
                ],
                [
                    "sharedfolder",
                    "add",
                    "{{.Name}}",
                    "--name=shared",
                    "--hostpath={{user `shared-folder-name`}}"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--graphicscontroller",
                    "{{user `graphics-controller`}}"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--clipboard-mode",
                    "bidirectional"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--draganddrop",
                    "disabled"
                ]
            ]
        }
    ]
}